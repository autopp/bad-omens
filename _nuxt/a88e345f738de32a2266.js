(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{149:function(e,t,n){var r=n(151),o=n(156),l=n(158),c="[object Object]",f=Function.prototype,v=Object.prototype,d=f.toString,y=v.hasOwnProperty,h=d.call(Object);e.exports=function(e){if(!l(e)||r(e)!=c)return!1;var t=o(e);if(null===t)return!0;var n=y.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==h}},150:function(e,t,n){var r=n(152).Symbol;e.exports=r},151:function(e,t,n){var r=n(150),o=n(154),l=n(155),c="[object Null]",f="[object Undefined]",v=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?f:c:v&&v in Object(e)?o(e):l(e)}},152:function(e,t,n){var r=n(153),o="object"==typeof self&&self&&self.Object===Object&&self,l=r||o||Function("return this")();e.exports=l},153:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(32))},154:function(e,t,n){var r=n(150),o=Object.prototype,l=o.hasOwnProperty,c=o.toString,f=r?r.toStringTag:void 0;e.exports=function(e){var t=l.call(e,f),n=e[f];try{e[f]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[f]=n:delete e[f]),o}},155:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},156:function(e,t,n){var r=n(157)(Object.getPrototypeOf,Object);e.exports=r},157:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},158:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},159:function(e,t,n){"use strict";n.r(t);n(92);var r=n(149),o=n.n(r),l=Object.prototype,c=l.toString,f=l.hasOwnProperty,v=/^\s*function (\w+)/,d=function(e){var t=null!=e?e.type?e.type:e:null,n=t&&t.toString().match(v);return n&&n[1]},y=function(){},h=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},m=Array.isArray||function(e){return"[object Array]"===c.call(e)},O=function(e){return"[object Function]"===c.call(e)},j=function(e,t,n){var r;return void 0===n&&(n=!1),Object.defineProperty(t,"_vueTypes_name",{enumerable:!1,writable:!1,value:e}),function(e){Object.defineProperty(e,"def",{value:function(e){return void 0!==e||this.default?O(e)||_(this,e)?(m(e)?this.default=function(){return[].concat(e)}:o()(e)?this.default=function(){return Object.assign({},e)}:this.default=e,this):(x(this._vueTypes_name+' - invalid default value: "'+e+'"',e),this):this},enumerable:!1,writable:!1})}((r=t,Object.defineProperty(r,"isRequired",{get:function(){return this.required=!0,this},enumerable:!1}))),n&&function(e){Object.defineProperty(e,"validate",{value:function(e){return this.validator=e.bind(this),this},enumerable:!1})}(t),O(t.validator)&&(t.validator=t.validator.bind(t)),t},_=function e(t,n,r){void 0===r&&(r=!1);var l,c=t,h=!0;o()(t)||(c={type:t});var j,_=c._vueTypes_name?c._vueTypes_name+" - ":"";return f.call(c,"type")&&null!==c.type&&(m(c.type)?(h=c.type.some(function(t){return e(t,n,!0)}),l=c.type.map(function(e){return d(e)}).join(" or ")):h="Array"===(l=d(c))?m(n):"Object"===l?o()(n):"String"===l||"Number"===l||"Boolean"===l||"Function"===l?function(e){if(null==e)return null;var t=e.constructor.toString().match(v);return t&&t[1]}(n)===l:n instanceof c.type),h?f.call(c,"validator")&&O(c.validator)?(r&&(j=x,x=y),h=c.validator(n),j&&(x=j),h||!1!==r||x(_+"custom validation failed"),h):h:(!1===r&&x(_+'value "'+n+'" should be of type "'+l+'"'),!1)},x=y;var w,k,$={get any(){return j("any",{type:null},!0)},get func(){return j("function",{type:Function},!0).def($.sensibleDefaults.func)},get bool(){return j("boolean",{type:Boolean},!0).def($.sensibleDefaults.bool)},get string(){return j("string",{type:String},!0).def($.sensibleDefaults.string)},get number(){return j("number",{type:Number},!0).def($.sensibleDefaults.number)},get array(){return j("array",{type:Array},!0).def($.sensibleDefaults.array)},get object(){return j("object",{type:Object},!0).def($.sensibleDefaults.object)},get integer(){return j("integer",{type:Number,validator:function(e){return h(e)}}).def($.sensibleDefaults.integer)},get symbol(){return j("symbol",{type:null,validator:function(e){return"symbol"==typeof e}},!0)},extend:function(e){void 0===e&&(e={});var t,n=e,r=n.name,o=n.validate,l=void 0!==o&&o,c=n.getter,f=void 0!==c&&c,v=function(source,e){if(null==source)return{};var t,i,n={},r=Object.keys(source);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||(n[t]=source[t]);return n}(n,["name","validate","getter"]);if(f)t={get:function(){return j(r,v,l)},enumerable:!0,configurable:!1};else{var d=v.validator;t={value:function(){if(d){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];v.validator=d.bind.apply(d,[this].concat(t))}return j(r,v,l)},writable:!1,enumerable:!0,configurable:!1}}return Object.defineProperty(this,r,t)},custom:function(e,t){if(void 0===t&&(t="custom validation failed"),"function"!=typeof e)throw new TypeError("[VueTypes error]: You must provide a function as argument");return j(e.name||"<<anonymous function>>",{validator:function(n){var r=e(n);return r||x(this._vueTypes_name+" - "+t),r}})},oneOf:function(e){if(!m(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");var t='oneOf - value should be one of "'+e.join('", "')+'"',n=e.reduce(function(e,t){return null!=t&&-1===e.indexOf(t.constructor)&&e.push(t.constructor),e},[]);return j("oneOf",{type:n.length>0?n:null,validator:function(n){var r=-1!==e.indexOf(n);return r||x(t),r}})},instanceOf:function(e){return j("instanceOf",{type:e})},oneOfType:function(e){if(!m(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");var t=!1,n=e.reduce(function(e,n,i){if(o()(n)){if("oneOf"===n._vueTypes_name)return e.concat(n.type||[]);if(n.type&&!O(n.validator)){if(m(n.type))return e.concat(n.type);e.push(n.type)}else O(n.validator)&&(t=!0);return e}return e.push(n),e},[]);if(!t)return j("oneOfType",{type:n});var r=e.map(function(e){return e&&m(e.type)?e.type.map(d):d(e)}).reduce(function(e,t){return e.concat(m(t)?t:[t])},[]).join('", "');return this.custom(function(t){var n=e.some(function(e){return"oneOf"===e._vueTypes_name?!e.type||_(e.type,t,!0):_(e,t,!0)});return n||x('oneOfType - value type should be one of "'+r+'"'),n})},arrayOf:function(e){return j("arrayOf",{type:Array,validator:function(t){var n=t.every(function(t){return _(e,t)});return n||x('arrayOf - value must be an array of "'+d(e)+'"'),n}})},objectOf:function(e){return j("objectOf",{type:Object,validator:function(t){var n=Object.keys(t).every(function(n){return _(e,t[n])});return n||x('objectOf - value must be an object of "'+d(e)+'"'),n}})},shape:function(e){var t=Object.keys(e),n=t.filter(function(t){return e[t]&&!0===e[t].required}),r=j("shape",{type:Object,validator:function(r){var l=this;if(!o()(r))return!1;var c=Object.keys(r);return n.length>0&&n.some(function(e){return-1===c.indexOf(e)})?(x('shape - at least one of required properties "'+n.join('", "')+'" is not present'),!1):c.every(function(n){if(-1===t.indexOf(n))return!0===l._vueTypes_isLoose||(x('shape - object is missing "'+n+'" property'),!1);var o=e[n];return _(o,r[n])})}});return Object.defineProperty(r,"_vueTypes_isLoose",{enumerable:!1,writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this},enumerable:!1}),r}};w=$,k={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0},Object.defineProperty(w,"sensibleDefaults",{enumerable:!1,set:function(e){k=!1===e?{}:!0===e?{func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}:e},get:function(){return k}}),$.utils={validate:function(e,t){return _(t,e,!0)},toType:j};var T=$,C={props:{label:T.string.isRequired},methods:{onClick:function(e){this.$emit("onClick")}}},A=n(19),B=Object(A.a)(C,function(){var e=this.$createElement;return(this._self._c||e)("v-btn",{attrs:{color:"info"},on:{click:this.onClick}},[this._v(this._s(this.label))])},[],!1,null,null,null).exports,S=(n(31),n(87)),V=(n(93),n(14),{props:{label:T.string.isRequired,value:T.number.isRequired},computed:{internalValue:{get:function(){return this.value},set:function(e){this.value!==e&&this.$emit("onChange",e)}}}}),E=Object(A.a)(V,function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{attrs:{label:e.label,type:"number",min:"0",max:"10",step:"1"},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}})},[],!1,null,null,null).exports,P=n(65),N={components:{AppNumberInput:E,AppButton:B},methods:{onChangeBase:function(e){this.$store.commit("changeBaseValue",parseInt(e))},onChangeNocturne:function(e){this.$store.commit("changeBaseValue",10-parseInt(e))},onGenerate:function(){var e=this.validateForGenerate();e.length>0?this.$store.commit("setErrors",e):(this.$store.commit("clearErrors"),this.$store.commit("addSupply",this.selectSupply()))},onClear:function(){this.$store.commit("clearSupplies")},validateForGenerate:function(){var e=[];(this.$store.state.baseValue<0||this.$store.state.baseValue>10)&&e.push("王国カードの数が不正です");var t=this.$store.getters.restCards;return Object.entries(this.$store.getters.kingdomValues).forEach(function(n){var r=Object(S.a)(n,2),o=r[0];r[1]>t[o].length&&e.push("".concat(P.d[o],"のカード枚数が足りません"))}),e},selectSupply:function(){var e=this,t={},n={},r=this.$store.getters.restCards;return Object.entries(r).forEach(function(t){var r=Object(S.a)(t,2),o=r[0],l=r[1];n[o]=e.shuffleArray(l).slice(0,e.$store.getters.kingdomValues[o])}),t.kingdom=n,n.nocturne.some(function(e){return e.druid})&&(t.druidBoons=this.shuffleArray(P.a).slice(0,3)),t},shuffleArray:function(e){for(var t=e.slice(),i=t.length-1;i>=0;i--){var n=Math.floor(Math.random()*(i+1)),r=[t[n],t[i]];t[i]=r[0],t[n]=r[1]}return t}}},D=Object(A.a)(N,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg2:""}},[n("AppNumberInput",{attrs:{value:e.$store.state.baseValue,label:"基本"},on:{onChange:e.onChangeBase}})],1),e._v(" "),n("v-flex",{attrs:{lg2:""}},[n("AppNumberInput",{attrs:{value:e.$store.getters.nocturneValue,label:"夜想曲"},on:{onChange:e.onChangeNocturne}})],1),e._v(" "),n("v-flex",{attrs:{lg1:""}},[n("AppButton",{attrs:{label:"生成"},on:{onClick:e.onGenerate}})],1),e._v(" "),n("v-flex",{attrs:{lg1:""}},[n("AppButton",{attrs:{label:"クリア"},on:{onClick:e.onClear}})],1)],1)],1)},[],!1,null,null,null).exports,F={props:{supply:T.shape({kingdom:T.objectOf(T.arrayOf(T.shape({id:T.integer.isRequired,name:T.string.isRequired,heirloom:T.string,druid:T.bool.def(!1),boon:T.bool.def(!1),hex:T.bool.def(!1),willOWisp:T.bool.def(!1),imp:T.bool.def(!1),ghost:T.bool.def(!1),wish:T.bool.def(!1),zombie:T.bool.def(!1),bat:T.bool.def(!1)}))),druidBoons:T.arrayOf(T.shape({id:T.integer.isRequired,name:T.string.isRequired,willOWisp:T.bool}))})},computed:{heirlooms:function(){var e=[];return this.supply.kingdom.nocturne.forEach(function(t){t.heirloom&&e.push(t.heirloom)}),e},extraCards:function(){var e=this,t=[];return["boon","hex","imp","ghost","wish","bat","zombie"].forEach(function(n){e.supply.kingdom.nocturne.some(function(e){return e[n]})&&t.push(P.b[n])}),this.supply.kingdom.nocturne.some(function(t){return t.willOWisp||e.supply.druidBoons&&e.supply.druidBoons.some(function(e){return e.willOWisp})})&&t.push(P.b.will_o_wisp),t}}},I={components:{AppButton:B,KingdomInput:D,SupplyPanel:Object(A.a)(F,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[e._l(e.supply.kingdom,function(t,r){return n("div",{key:r},[e._v("\n      "+e._s(t.map(function(e){return e.name}).join("・"))+"\n    ")])}),e._v(" "),e.heirlooms.length>0?n("div",[e._v("家宝: "+e._s(e.heirlooms.join("・")))]):e._e(),e._v(" "),e.supply.druidBoons?n("div",[e._v("\n      ドルイドの恵み:\n      "+e._s(e.supply.druidBoons.map(function(e){return e.name}).join("・"))+"\n    ")]):e._e(),e._v(" "),e.extraCards.length>0?n("div",[e._v("\n      サプライ外: "+e._s(e.extraCards.join("・"))+"\n    ")]):e._e()],2)],1)},[],!1,null,null,null).exports}},R=Object(A.a)(I,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("v-toolbar",[n("v-toolbar-title",[e._v("Bad Omens")])],1),e._v(" "),n("v-content",[n("v-container",{attrs:{"grid-list-xl":""}},[n("KingdomInput"),e._v(" "),e.$store.state.errors.length>0?n("v-alert",{attrs:{value:!0,type:"error"}},e._l(e.$store.state.errors,function(t,r){return n("div",{key:r},[e._v("\n          "+e._s(t)+"\n        ")])}),0):e._e(),e._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},e._l(e.$store.state.supplies,function(e,t){return n("v-flex",{key:t,attrs:{lg12:""}},[n("SupplyPanel",{attrs:{supply:e}})],1)}),1)],1)],1)],1)},[],!1,null,null,null);t.default=R.exports}}]);